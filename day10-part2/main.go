package main

import (
	"./msta"
	"github.com/ashatch/vector"
)

func main() {
	asteroidMapData := []string{
		"..#..###....#####....###........#",
		".##.##...#.#.......#......##....#",
		"#..#..##.#..###...##....#......##",
		"..####...#..##...####.#.......#.#",
		"...#.#.....##...#.####.#.###.#..#",
		"#..#..##.#.#.####.#.###.#.##.....",
		"#.##...##.....##.#......#.....##.",
		".#..##.##.#..#....#...#...#...##.",
		".#..#.....###.#..##.###.##.......",
		".##...#..#####.#.#......####.....",
		"..##.#.#.#.###..#...#.#..##.#....",
		".....#....#....##.####....#......",
		".#..##.#.........#..#......###..#",
		"#.##....#.#..#.#....#.###...#....",
		".##...##..#.#.#...###..#.#.#..###",
		".#..##..##...##...#.#.#...#..#.#.",
		".#..#..##.##...###.##.#......#...",
		"...#.....###.....#....#..#....#..",
		".#...###..#......#.##.#...#.####.",
		"....#.##...##.#...#........#.#...",
		"..#.##....#..#.......##.##.....#.",
		".#.#....###.#.#.#.#.#............",
		"#....####.##....#..###.##.#.#..#.",
		"......##....#.#.#...#...#..#.....",
		"...#.#..####.##.#.........###..##",
		".......#....#.##.......#.#.###...",
		"...#..#.#.........#...###......#.",
		".#.##.#.#.#.#........#.#.##..#...",
		".......#.##.#...........#..#.#...",
		".####....##..#..##.#.##.##..##...",
		".#.#..###.#..#...#....#.###.#..#.",
		"............#...#...#.......#.#..",
		".........###.#.....#..##..#.##...",
	}

	//&{27 19} can see 314 <<< this is the best vantage point (part 1)

	asteroidMap := msta.ParseAsteroidMap(asteroidMapData)

	laserPosition := &msta.MapCell{
		Position: vector.NewVector2f(27, 19),
	}

	cells := msta.CellsOrderedByRotationFromPos(asteroidMap, laserPosition)
	msta.Zap(laserPosition, asteroidMap, cells)
	// answer is: found on this line of output: Zap 199 387 &{15 13}
	// 1513
}
